[
["index.html", "Jurimetria com aplicações em R Capítulo 1 Apresentação", " Jurimetria com aplicações em R Associação Brasileira de Jurimetria 21 de outubro de 2019 Capítulo 1 Apresentação Olá! Bem vindo ao curso R para Jurimetria :) Esse é um minicuso baseado no curso de R para Jurimetria da ABJ. Nesse curso abordamos aspectos práticos da Jurimetria, essenciais para um profissional da Estatística que tenha interesse em trabalhar nessa área. O curso é voltado para graduandos em estatística e está organizado em três partes. Parte I: Introdução à jurimetria e setup Definição Terminologia Tipos de pesquisa e exemplos Parte II: Ferramentas da ABJ para importação Introdução ao web scraping com httr e rvest. Pacotes esaj e abjutils Parte III: Transformação: pacotes dplyr, tidyr. Aplicação: Câmaras criminais. Para o curso, será necessário ter conhecimentos do software estatístico R, como a lógica de programação, sintaxe do R e ambientação com o RStudio. Alguns algoritmos utilizam conhecimento de pacotes do tidyverse, como dplyr, tidyr, ggplot2 e stringr. Vamos passar com calma por esses pacotes caso necessário. "],
["materiais-do-minicurso.html", "1.1 Materiais do minicurso", " 1.1 Materiais do minicurso O curso foi montado em RMarkdown, usando um pacote chamado bookdown. O material é reprodutível e está disseminado em diversos lugares no GitHub. Você pode acessar todo o material em https://github.com/abjur/ufam2019. As aulas foram organizadas pelo Ciclo de ciência de dados. Trabalharemos com o tidyverse e os pacotes da ABJ Import: esaj e dje. Tidy / Transform: abjutils, dplyr, tidyr, stringr, lubridate, forcats e purrr. Visualize: ggplot2. "],
["materiais-e-tarefas-adicionais.html", "1.2 Materiais e tarefas adicionais", " 1.2 Materiais e tarefas adicionais Entrar no grupo: t.me/rbrasil Cadastrar na newsletter da ABJ http://www.abj.org.br Ler blog: http://www.abj.org.br/blog/2017/01/27/2017-01-28-assuntos/ Ler blog: http://www.abj.org.br/blog/2016/12/31/2016-12-31-tempos/ Dar uma olhada em https://abjur.github.io/tjspBook Dar uma olhada em http://material.curso-r.com Dar uma olhada em https://tidyverse.org Dar uma olhada em http://r4ds.had.co.nz Dar uma olhada em https://github.com/abjur, https://github.com/courtsbr, https://github.com/decryptr, https://github.com/curso-r "],
["o-que-é-jurimetria.html", "Capítulo 2 O que é Jurimetria?", " Capítulo 2 O que é Jurimetria? A jurimetria é o estudo empírico do direito. Ela se distingue das demais disciplinas jurídicas por tratar o direito de forma concreta. Tratar o direito de forma concreta significa situar nosso objeto de estudo no tempo e no espaço. Ao invés de estudar como é a norma e o ordenamento jurídico, estudamos como as decisões são tomadas nos tribunais, dentro de um determinado escopo. A pesquisa em jurimetria utiliza dados do judiciário para avaliar desde argumentos quantitativos a serem utilizados por juristas e advogados até estimar o impacto de leis. No Brasil, é utilizada principalmente como ferramenta para auxiliar na formulação de políticas públicas, melhorar a administração dos tribunais, calcular o risco de carteiras de processos e otimizar estratégias processuais. "],
["jurimetria-em-empresas.html", "2.1 Jurimetria em empresas", " 2.1 Jurimetria em empresas No mundo corporativo, a jurimetria está se tornando essencial para departamentos jurídicos de grandes empresas e escritórios de advocacia. O movimento da tecnologia no Direito ganhou ainda mais força no ano de 2017 com o advento da AB2L e das lawtechs, as startups do meio jurídico. "],
["a-associação-brasileira-de-jurimetria.html", "2.2 A Associação Brasileira de Jurimetria", " 2.2 A Associação Brasileira de Jurimetria Nesse sentido, uma das missões da Associação Brasileira de Jurimetria (ABJ) é incentivar e divulgar a jurimetria aos seus associados e ao público em geral. Nossos estudos e pesquisas visam a difusão e o desenvolvimento do campo no Brasil, agregando pesquisadores e fornecendo o ferramental necessário para realização das análises. Neste curso, apresentaremos o ferramental de trabalho desenvolvido no laboratório da ABJ. As ferramentas servem principalmente para extração e arrumação de dados, deixando o caminho livre para realização de análises estatísticas mais aprofundadas. "],
["jurimetria-na-prática.html", "2.3 Jurimetria na prática", " 2.3 Jurimetria na prática 2.3.1 Tribunais 101 Digamos que a NET tenha colocado seu nome indevidamente no Serasa e você processa a NET por dano moral e material. Quando você entra com um processo, ele é distribuído (levado) numa vara (casinha do juiz), por exemplo uma vara cível de Manacapuru, e seu processo estará na 1a instância. O juiz então irá decidir sobre o caso, produzindo uma sentença (um texto de 5-10 páginas que explica o que ele decidiu e por quê). Se você ou a NET ficarem infelizes com o resultado, vocês podem entrar com um recurso de apelação (evolução de processo), que será distribuído numa câmara (evolução de vara) do Tribunal de Justiça do Amazonas (TJAM, que fica em Manaus), a ser julgada por desembargadores (evolução de juiz), e seu processo estará na 2a instância. Os desembargadores então irão decidir sobre o caso, produzindo um acórdão (evolução de sentença). Se você ou a NET ficarem infelizes com o resultado, vocês podem novamente entrar com recursos, que irão para o STJ e posteriormente ao STF (em Brasília), a serem julgados por Ministros (evolução de desembargador). Depois que acabam os recursos, o processo volta para a vara de origem e entra na fase de execução. No minicurso de hoje, nossos estudos restringem-se ao TJSP, envolvendo (1) e (2). O TJSP atualmente é o mais simples para obtenção automática de processos. 2.3.2 Divisão regional 2.3.2.1 TJAM No TJAM, a divisão regional é simples: cada município é uma comarca. Acesse http://metas.tjam.jus.br/ para detalhes e visualizações. 2.3.2.2 TJSP O TJSP é dividido em comarcas, circunscrições e regiões administrativas. As comarcas são conjuntos de um ou mais municípios e uma comarca deve sempre ter uma ou mais varas. Circunscrições e regiões administrativas existem somente para 2.3.3 Tipos de estudo Estudos prospectivos acompanham o processo judicial desde a data de distribuição até o fim. O fim pode ser marcado pela data da sentença, acórdão, ou outro evento de interesse. Ou seja, os casos são indexados pela data de nascimento, e acompanhados até a data de sua morte. Em muitos casos, os processos ainda não atingiram o fim no momento da realização do estudo. Estudos retrospectivo levantam processos que acabaram (por sentença ou por acórdão) e analisa suas características. Ou seja, os casos são indexados pela data de morte. A Figura abaixo mostra os diferentes escopos. ( 1) Prospectivo e retrospectivo. ( 2) Apenas prospectivo. ( 3) Apenas retrospectivo. ( 4) Nenhum dos dois, mas poderia ser capturado por atividade no período. (5 e 6) fora do escopo. ( 7) Nenhum dos dois tipos e não poderia ser capturado (ficou inativo no período). Estudos prospectivos são úteis quando o intuito é estudar o tempo das fases do processo. Já estudos retrospectivos são úteis para a análise do perfil de decisões. Estudos que analisam tempos em bases retrospectivas podem estar cometendo viés. "],
["estudo-câmaras-criminais.html", "2.4 Estudo: Câmaras criminais", " 2.4 Estudo: Câmaras criminais O Direito Criminal é uma área que traz consigo diversas questões difíceis e importantes da nossa sociedade. Uma destas questões, que remete ao possível descolamento da teoria do Direito e o que ocorre no mundo real, trata do cumprimento da pena. Considerando-se o plano ideal e o princípio de ampla defesa, mas também a conhecida morosidade dos tribunais, qual é o momento do processo em que deveria ser iniciado o cumprimento de pena? Será que a taxa de reforma das decisões é tão pequena a ponto de justificar o início do cumprimento de pena após a sentença na primeira instância? A Figura 2.1 mostra a distribuição dos resultados dos processos em relação aos órgãos julgadores. Podemos encontrar câmaras com mais de 75% de recursos negados (quarta e sexta) e câmaras com menos de 30% de recursos negados (primeira, segunda e décima segunda). Este resultado poderia ser explicado por duas hipóteses: os processos não são distribuídos aleatoriamente nas câmaras, e é feita uma triagem que envolve o tipo do recurso; ou os magistrados de cada câmara comportam-se de maneiras muito diferentes, mesmo para processos considerados homogêneos. Figura 2.1: Resultados por câmara. "],
["cuidado.html", "2.5 Cuidado", " 2.5 Cuidado As bases de dados utilizadas em estudos jurimétricos foram originalmente concebidas para fins gerenciais e não analíticos. Por isso, observamos muitos dados faltantes, mal formatados e com documentação inadequada. Uma boa porção dos dados só está disponível em páginas HTML e arquivos PDF e grande parte da informação útil está escondida em textos. Chamamos esse fenômeno de “pré-sal sociológico”. Temos hoje diversas bases de dados armazenadas em repositórios públicos ou controladas pelo poder público, mas que precisam ser lapidadas para obtenção de informação útil. O jurimetrista trabalha com dados sujos e desorganizados, mas gera muito valor ao extrair suas informações. Por isso, o profissional precisa dominar o ferramental de extração, transformação e visualização de dados, e é sobre isso que discutiremos na primeira parte do minicurso. Utilizaremos como base o software estatístico R, que atualmente possui diversas ferramentas que ajudam nessas atividades. "],
["wrap-up.html", "2.6 Wrap-up", " 2.6 Wrap-up Jurimetria é a estatística aplicada ao direito No judiciário, as coisas mudam de nome conforme mudamos de instâncias Precisamos pensar em estudos prospectivos e retrospectivos Os dados são extremamente desorganizados "],
["ferramentas-tidy.html", "Capítulo 3 Ferramentas tidy", " Capítulo 3 Ferramentas tidy library(tidyverse) # Base de dados ----------------------------------------------------------- cjsg &lt;- readr::read_rds(&quot;data-raw/camaras/d_cjsg.rds&quot;) glimpse(cjsg) #&gt; Observations: 11,731 #&gt; Variables: 14 #&gt; $ arq &lt;chr&gt; &quot;data-raw/camaras/cjsg/page100.html&quot;, &quot;data-raw/c… #&gt; $ pagina &lt;chr&gt; &quot;1981&quot;, &quot;1982&quot;, &quot;1983&quot;, &quot;1984&quot;, &quot;1985&quot;, &quot;1986&quot;, &quot;… #&gt; $ id_decisao &lt;chr&gt; &quot;11094999&quot;, &quot;11093733&quot;, &quot;11093677&quot;, &quot;11093270&quot;, &quot;… #&gt; $ id_processo &lt;chr&gt; &quot;0057003-20.2017.8.26.0000&quot;, &quot;0052762-03.2017.8.2… #&gt; $ classe_assunto &lt;chr&gt; &quot;Classe/Assunto:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t Habeas C… #&gt; $ comarca &lt;chr&gt; &quot;Cosmópolis&quot;, &quot;São Paulo&quot;, &quot;Ribeirão Preto&quot;, &quot;Ara… #&gt; $ vara &lt;chr&gt; &quot;3ª Câmara de Direito Criminal&quot;, &quot;3ª Câmara de Di… #&gt; $ dt_decisao &lt;chr&gt; &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;14/12/… #&gt; $ dt_publication &lt;chr&gt; &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;19/12/… #&gt; $ dt_registro &lt;chr&gt; &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;19/12/2017&quot;, &quot;19/12/… #&gt; $ relator &lt;chr&gt; &quot;Luiz Antonio Cardoso&quot;, &quot;Luiz Antonio Cardoso&quot;, &quot;… #&gt; $ ementa &lt;chr&gt; NA, NA, NA, &quot;Execução Penal – Comutação de Penas… #&gt; $ txt_ementa &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… #&gt; $ result &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N… "],
["select.html", "3.1 select", " 3.1 select select(cjsg, id_processo, comarca, dt_decisao) #&gt; # A tibble: 11,731 x 3 #&gt; id_processo comarca dt_decisao #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 0057003-20.2017.8.26.0000 Cosmópolis 19/12/2017 #&gt; 2 0052762-03.2017.8.26.0000 São Paulo 19/12/2017 #&gt; 3 0055169-79.2017.8.26.0000 Ribeirão Preto 19/12/2017 #&gt; 4 9000580-82.2017.8.26.0032 Araçatuba 14/12/2017 #&gt; 5 0052938-79.2017.8.26.0000 São Paulo 14/12/2017 #&gt; 6 9000723-79.2017.8.26.0482 Presidente Prudente 14/12/2017 #&gt; 7 0003276-86.2015.8.26.0075 Bertioga 14/12/2017 #&gt; 8 9000298-11.2017.8.26.0625 Taubaté 14/12/2017 #&gt; 9 0004653-39.2015.8.26.0028 Aparecida 14/12/2017 #&gt; 10 2221930-66.2017.8.26.0000 Jandira 19/12/2017 #&gt; # … with 11,721 more rows select(cjsg, starts_with(&quot;dt_&quot;)) #&gt; # A tibble: 11,731 x 3 #&gt; dt_decisao dt_publication dt_registro #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 19/12/2017 19/12/2017 19/12/2017 #&gt; 2 19/12/2017 19/12/2017 19/12/2017 #&gt; 3 19/12/2017 19/12/2017 19/12/2017 #&gt; 4 14/12/2017 19/12/2017 19/12/2017 #&gt; 5 14/12/2017 19/12/2017 19/12/2017 #&gt; 6 14/12/2017 19/12/2017 19/12/2017 #&gt; 7 14/12/2017 19/12/2017 19/12/2017 #&gt; 8 14/12/2017 19/12/2017 19/12/2017 #&gt; 9 14/12/2017 19/12/2017 19/12/2017 #&gt; 10 19/12/2017 19/12/2017 19/12/2017 #&gt; # … with 11,721 more rows select(cjsg, -starts_with(&quot;id&quot;), -ementa) #&gt; # A tibble: 11,731 x 11 #&gt; arq pagina classe_assunto comarca vara dt_decisao dt_publication #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1981 &quot;Classe/Assun… Cosmóp… 3ª C… 19/12/2017 19/12/2017 #&gt; 2 data… 1982 &quot;Classe/Assun… São Pa… 3ª C… 19/12/2017 19/12/2017 #&gt; 3 data… 1983 &quot;Classe/Assun… Ribeir… 3ª C… 19/12/2017 19/12/2017 #&gt; 4 data… 1984 &quot;Classe/Assun… Araçat… 8ª C… 14/12/2017 19/12/2017 #&gt; 5 data… 1985 &quot;Classe/Assun… São Pa… 8ª C… 14/12/2017 19/12/2017 #&gt; 6 data… 1986 &quot;Classe/Assun… Presid… 8ª C… 14/12/2017 19/12/2017 #&gt; 7 data… 1987 &quot;Classe/Assun… Bertio… 8ª C… 14/12/2017 19/12/2017 #&gt; 8 data… 1988 &quot;Classe/Assun… Taubaté 8ª C… 14/12/2017 19/12/2017 #&gt; 9 data… 1989 &quot;Classe/Assun… Aparec… 8ª C… 14/12/2017 19/12/2017 #&gt; 10 data… 1990 &quot;Classe/Assun… Jandira 3ª C… 19/12/2017 19/12/2017 #&gt; # … with 11,721 more rows, and 4 more variables: dt_registro &lt;chr&gt;, #&gt; # relator &lt;chr&gt;, txt_ementa &lt;chr&gt;, result &lt;chr&gt; "],
["arrange.html", "3.2 arrange", " 3.2 arrange arrange(cjsg, pagina) #&gt; # A tibble: 11,731 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1 11109089 0003779-93… &quot;Classe/Assun… Sertão… 1ª C… #&gt; 2 data… 10 11108347 3001116-52… &quot;Classe/Assun… Aparec… 9ª C… #&gt; 3 data… 100 11108623 2226379-67… &quot;Classe/Assun… São Pa… 2ª C… #&gt; 4 data… 1000 11091021 0006578-43… &quot;Classe/Assun… Taquar… 15ª … #&gt; 5 data… 10000 11036190 2207449-98… &quot;Classe/Assun… São Pa… 9ª C… #&gt; 6 data… 10001 11033410 0004779-24… &quot;Classe/Assun… São Pa… 9ª C… #&gt; 7 data… 10002 11033192 0006040-77… &quot;Classe/Assun… Barret… 15ª … #&gt; 8 data… 10003 11032789 0016487-62… &quot;Classe/Assun… Sumaré 15ª … #&gt; 9 data… 10004 11032647 0003859-23… &quot;Classe/Assun… São Si… 15ª … #&gt; 10 data… 10005 11033456 0001084-65… &quot;Classe/Assun… São Pa… 15ª … #&gt; # … with 11,721 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; arrange(cjsg, as.numeric(pagina)) #&gt; # A tibble: 11,731 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1 11109089 0003779-93… &quot;Classe/Assun… Sertão… 1ª C… #&gt; 2 data… 2 11109088 3001293-25… &quot;Classe/Assun… Rio Cl… 8ª C… #&gt; 3 data… 3 11108246 0063566-45… &quot;Classe/Assun… São Pa… 2ª C… #&gt; 4 data… 4 11108245 0003528-84… &quot;Classe/Assun… Olímpia 2ª C… #&gt; 5 data… 5 11109087 0008470-76… &quot;Classe/Assun… Bebedo… 2ª C… #&gt; 6 data… 6 11109086 0013767-62… &quot;Classe/Assun… Tatuí 2ª C… #&gt; 7 data… 7 11109085 3019561-54… &quot;Classe/Assun… Osasco 2ª C… #&gt; 8 data… 8 11108348 0003072-91… &quot;Classe/Assun… Soroca… 9ª C… #&gt; 9 data… 9 11108725 0009578-41… &quot;Classe/Assun… São Pa… 2ª C… #&gt; 10 data… 10 11108347 3001116-52… &quot;Classe/Assun… Aparec… 9ª C… #&gt; # … with 11,721 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; arrange(cjsg, desc(as.numeric(pagina))) #&gt; # A tibble: 11,731 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 11666 11026644 0002572-57… &quot;Classe/Assun… Santo … 1ª C… #&gt; 2 data… 11665 11029170 0011110-86… &quot;Classe/Assun… Campin… 1ª C… #&gt; 3 data… 11664 11027029 0015649-21… &quot;Classe/Assun… Limeira 1ª C… #&gt; 4 data… 11663 11027632 0096673-17… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 5 data… 11662 11027545 7001175-52… &quot;Classe/Assun… Marília 1ª C… #&gt; 6 data… 11661 11028114 7001484-47… &quot;Classe/Assun… Presid… 1ª C… #&gt; 7 data… 11660 11027614 7002045-43… &quot;Classe/Assun… Bauru 1ª C… #&gt; 8 data… 11659 11026932 7003506-21… &quot;Classe/Assun… Bauru 1ª C… #&gt; 9 data… 11658 11027421 7003669-93… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 10 data… 11657 11027570 7004597-35… &quot;Classe/Assun… Marília 1ª C… #&gt; # … with 11,721 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; df &lt;- tibble(x = c(NA, 2, 1), y = c(1, 2, 3)) arrange(df, x) #&gt; # A tibble: 3 x 2 #&gt; x y #&gt; &lt;dbl&gt; &lt;dbl&gt; #&gt; 1 1 3 #&gt; 2 2 2 #&gt; 3 NA 1 "],
["pipe.html", "3.3 Pipe (%&gt;%)", " 3.3 Pipe (%&gt;%) esfrie( asse( coloque( bata( acrescente( recipiente( rep( &quot;farinha&quot;, 2 ), &quot;água&quot;, &quot;fermento&quot;, &quot;leite&quot;, &quot;óleo&quot; ), &quot;farinha&quot;, até = &quot;macio&quot; ), duração = &quot;3min&quot; ), lugar = &quot;forma&quot;, tipo = &quot;grande&quot;, untada = TRUE ), duração = &quot;50min&quot; ), &quot;geladeira&quot;, &quot;20min&quot; ) # Veja como o código acima pode ser reescrito utilizando-se o pipe. # Agora realmente se parece com uma receita de bolo. recipiente(rep(&quot;farinha&quot;, 2), &quot;água&quot;, &quot;fermento&quot;, &quot;leite&quot;, &quot;óleo&quot;) %&gt;% acrescente(&quot;farinha&quot;, até = &quot;macio&quot;) %&gt;% bata(duração = &quot;3min&quot;) %&gt;% coloque(lugar = &quot;forma&quot;, tipo = &quot;grande&quot;, untada = TRUE) %&gt;% asse(duração = &quot;50min&quot;) %&gt;% esfrie(&quot;geladeira&quot;, &quot;20min&quot;) # ATALHO: CTRL + SHIFT + M "],
["filter.html", "3.4 filter", " 3.4 filter cjsg %&gt;% filter(as.numeric(pagina) &gt; 10000) #&gt; # A tibble: 1,666 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 10001 11033410 0004779-24… &quot;Classe/Assun… São Pa… 9ª C… #&gt; 2 data… 10002 11033192 0006040-77… &quot;Classe/Assun… Barret… 15ª … #&gt; 3 data… 10003 11032789 0016487-62… &quot;Classe/Assun… Sumaré 15ª … #&gt; 4 data… 10004 11032647 0003859-23… &quot;Classe/Assun… São Si… 15ª … #&gt; 5 data… 10005 11033456 0001084-65… &quot;Classe/Assun… São Pa… 15ª … #&gt; 6 data… 10006 11032785 0003014-04… &quot;Classe/Assun… Birigüi 15ª … #&gt; 7 data… 10007 11032665 0001797-82… &quot;Classe/Assun… Mirass… 15ª … #&gt; 8 data… 10008 11032908 0000409-26… &quot;Classe/Assun… Presid… 15ª … #&gt; 9 data… 10009 11032904 0000742-20… &quot;Classe/Assun… Monte … 15ª … #&gt; 10 data… 10010 11032792 0000408-88… &quot;Classe/Assun… Franca 15ª … #&gt; # … with 1,656 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; cjsg %&gt;% filter(comarca == &quot;São Paulo&quot;) #&gt; # A tibble: 2,446 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1982 11093733 0052762-03… &quot;Classe/Assun… São Pa… 3ª C… #&gt; 2 data… 1985 11093374 0052938-79… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 3 data… 1991 11093604 2214049-38… &quot;Classe/Assun… São Pa… 3ª C… #&gt; 4 data… 2004 11093642 2227499-48… &quot;Classe/Assun… São Pa… 3ª C… #&gt; 5 data… 2006 11093376 9002384-31… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 6 data… 2016 11091508 0021158-39… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 7 data… 2028 11091668 7005375-26… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 8 data… 2031 11094451 9002039-65… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 9 data… 2036 11094449 2203993-43… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 10 data… 2051 11091474 0099423-21… &quot;Classe/Assun… São Pa… 8ª C… #&gt; # … with 2,436 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; cjsg %&gt;% filter(comarca %in% c(&quot;São Paulo&quot;, &quot;Campinas&quot;), as.numeric(pagina) &gt; 10000) #&gt; # A tibble: 377 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 10001 11033410 0004779-24… &quot;Classe/Assun… São Pa… 9ª C… #&gt; 2 data… 10005 11033456 0001084-65… &quot;Classe/Assun… São Pa… 15ª … #&gt; 3 data… 10012 11033208 0043498-40… &quot;Classe/Assun… São Pa… 15ª … #&gt; 4 data… 10013 11033206 0046447-37… &quot;Classe/Assun… São Pa… 15ª … #&gt; 5 data… 10021 11032992 9001786-48… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 6 data… 10038 11033887 0048453-51… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 7 data… 10039 11033178 9001754-72… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 8 data… 10042 11033449 9002151-34… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 9 data… 10046 11033191 9001791-70… &quot;Classe/Assun… São Pa… 1ª C… #&gt; 10 data… 10056 11033058 0056723-93… &quot;Classe/Assun… São Pa… 1ª C… #&gt; # … with 367 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; 3.4.1 str_detect cjsg %&gt;% filter(str_detect(classe_assunto, &quot;Roubo&quot;)) #&gt; # A tibble: 1,876 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1982 11093733 0052762-03… &quot;Classe/Assun… São Pa… 3ª C… #&gt; 2 data… 1991 11093604 2214049-38… &quot;Classe/Assun… São Pa… 3ª C… #&gt; 3 data… 1995 11095012 2233401-79… &quot;Classe/Assun… Santo … 3ª C… #&gt; 4 data… 2002 11095016 2248673-16… &quot;Classe/Assun… Santo … 3ª C… #&gt; 5 data… 2032 11095285 2232335-64… &quot;Classe/Assun… Tatuí 8ª C… #&gt; 6 data… 2035 11094409 2210535-77… &quot;Classe/Assun… Santa … 8ª C… #&gt; 7 data… 2040 11093359 0039147-60… &quot;Classe/Assun… Campin… 8ª C… #&gt; 8 data… 2049 11094456 2095452-13… &quot;Classe/Assun… Arujá 8ª C… #&gt; 9 data… 2051 11091474 0099423-21… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 10 data… 2055 11088314 2202000-62… &quot;Classe/Assun… Campo … 8ª C… #&gt; # … with 1,866 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; #&gt; # A tibble: 447 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 1981 11094999 0057003-20… &quot;Classe/Assun… Cosmóp… 3ª C… #&gt; 2 data… 2039 11094413 2199001-39… &quot;Classe/Assun… Aguaí 8ª C… #&gt; 3 data… 2059 11088315 2198632-45… &quot;Classe/Assun… São Pa… 8ª C… #&gt; 4 data… 2077 11093017 9000014-81… &quot;Classe/Assun… Osasco 4ª C… #&gt; 5 data… 2093 11089096 0830564-16… &quot;Classe/Assun… São Pa… 6ª C… #&gt; 6 data… 2139 11089000 0050864-52… &quot;Classe/Assun… Rio Cl… 12ª … #&gt; 7 data… 2169 11089066 2195664-42… &quot;Classe/Assun… São Jo… 14ª … #&gt; 8 data… 2191 11088374 0011112-17… &quot;Classe/Assun… Guarul… 6ª C… #&gt; 9 data… 2239 11088093 2198753-73… &quot;Classe/Assun… Araçat… 6ª C… #&gt; 10 data… 2266 11088645 0007445-68… &quot;Classe/Assun… Lençói… 13ª … #&gt; # … with 437 more rows, and 7 more variables: dt_decisao &lt;chr&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt; "],
["mutate.html", "3.5 mutate", " 3.5 mutate # exemplo 1 library(lubridate) cjsg %&gt;% mutate(dt_decisao = dmy(dt_decisao)) %&gt;% filter(day(dt_decisao) == 01) #&gt; # A tibble: 3 x 14 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 397 11106202 0016611-58… &quot;Classe/Assun… Bauru 7ª C… #&gt; 2 data… 489 11104932 0016611-58… &quot;Classe/Assun… Bauru 7ª C… #&gt; 3 data… 759 11097186 9000333-69… &quot;Classe/Assun… Itapet… 3ª C… #&gt; # … with 7 more variables: dt_decisao &lt;date&gt;, dt_publication &lt;chr&gt;, #&gt; # dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, txt_ementa &lt;chr&gt;, #&gt; # result &lt;chr&gt; "],
["group-by-e-summarise.html", "3.6 group_by e summarise", " 3.6 group_by e summarise cjsg %&gt;% select(id_processo, dt_decisao) %&gt;% mutate(dia_da_semana = weekdays(dmy(dt_decisao))) %&gt;% group_by(dia_da_semana) %&gt;% summarise(n = n()) #&gt; # A tibble: 5 x 2 #&gt; dia_da_semana n #&gt; &lt;chr&gt; &lt;int&gt; #&gt; 1 quarta 1530 #&gt; 2 quinta 6044 #&gt; 3 segunda 1537 #&gt; 4 terça 2555 #&gt; 5 &lt;NA&gt; 65 "],
["left-join.html", "3.7 left_join", " 3.7 left_join cposg &lt;- read_rds(&quot;data-raw/camaras/d_cposg.rds&quot;) d_total &lt;- cjsg %&gt;% left_join(cposg, c(&quot;id_processo&quot; = &quot;id_lawsuit&quot;)) 3.7.1 Aplicação prática # lidando com repeticoes cjsg_distintos &lt;- cjsg %&gt;% mutate(dt_decisao = dmy(dt_decisao)) %&gt;% arrange(desc(dt_decisao)) %&gt;% distinct(id_processo, .keep_all = TRUE) cposg_distintos &lt;- cposg %&gt;% filter(!str_detect(file, &quot;recurso|reex&quot;)) %&gt;% distinct(id_lawsuit, .keep_all = TRUE) cjsg_distintos %&gt;% left_join(cposg_distintos, c(&quot;id_processo&quot; = &quot;id_lawsuit&quot;)) #&gt; # A tibble: 11,642 x 20 #&gt; arq pagina id_decisao id_processo classe_assunto comarca vara #&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; #&gt; 1 data… 52 11108293 0002247-27… &quot;Classe/Assun… Ribeir… 6ª C… #&gt; 2 data… 54 11108298 0001691-25… &quot;Classe/Assun… Bauru 6ª C… #&gt; 3 data… 55 11108297 2246067-15… &quot;Classe/Assun… Leme 6ª C… #&gt; 4 data… 56 11108718 2225339-50… &quot;Classe/Assun… São Pa… 6ª C… #&gt; 5 data… 57 11108692 2001474-45… &quot;Classe/Assun… Araçat… 6ª C… #&gt; 6 data… 58 11108701 2245762-31… &quot;Classe/Assun… Barret… 6ª C… #&gt; 7 data… 59 11108699 2244366-19… &quot;Classe/Assun… São Pa… 6ª C… #&gt; 8 data… 60 11108698 2243113-93… &quot;Classe/Assun… Taubaté 6ª C… #&gt; 9 data… 61 11108695 2242412-35… &quot;Classe/Assun… São Pa… 6ª C… #&gt; 10 data… 181 11107242 0009617-63… &quot;Classe/Assun… São Pa… 2ª C… #&gt; # … with 11,632 more rows, and 13 more variables: dt_decisao &lt;date&gt;, #&gt; # dt_publication &lt;chr&gt;, dt_registro &lt;chr&gt;, relator &lt;chr&gt;, ementa &lt;chr&gt;, #&gt; # txt_ementa &lt;chr&gt;, result &lt;chr&gt;, id &lt;chr&gt;, file &lt;chr&gt;, hidden &lt;lgl&gt;, #&gt; # data &lt;list&gt;, parts &lt;list&gt;, decisions &lt;list&gt; "],
["importação-de-dados.html", "Capítulo 4 Importação de dados", " Capítulo 4 Importação de dados Agora nós estamos aqui: Nessa parte, vamos aprender a baixar dados da web. No contexto da jurimetria, isso é muito importante por dois motivos: você nunca pode esperar que alguém ofereça esses dados organizados para você e isso é muito divertido e é um aprendizado para a vida. Você, depois dessa aula Se você não praticar depois "],
["usando-o-inspect.html", "4.1 Usando o Inspect", " 4.1 Usando o Inspect Se você quer aprender a baixar dados da web, você precisa aprender a usar o Inspect do seu navegador. Para isso, vamos abrir a página do e-SAJ. Agora clique com o botão direito e depois em “inspecionar” (vamos assumir que você está usando o Google Chrome). Na tela que vai abrir, entre na aba “Network”. O navegador vai pedir que você atualize a página, apertando F5. Faça isso. Agora você verá uma lista de documentos que seu navegador baixou para carregar a página. O primeiro item dessa lista, consultaCompleta.do, contém informações da sua consulta processual. Clique nesse item. O conteúdo dessa página é a requisição web utilizada para acessar o e-SAJ. Basicamente, tudo o que faremos na parte de web scraping é tentar imitar o que esse site faz. Tenha em mente que, para construir um scraper, você usará duas ferramentas principais: seu navegador e o RStudio. "],
["pacotes-httr-xml2-e-rvest.html", "4.2 Pacotes httr, xml2 e rvest", " 4.2 Pacotes httr, xml2 e rvest Esses são os três pacotes mais modernos do R para fazer web scraping. O pacote xml2 tem a finalidade de estruturar arquivos HTML ou XML de forma eficiente, tornando possível a obtenção de tags e seus atributos dentro de um arquivo. O pacote httr é responsável por realizar requisições web para obtenção das páginas de interesse, buscando reduzir ao máximo a complexidade da programação. O pacote rvest é escrito sobre os dois anteriores e por isso eleva ainda mais o nível de especialização para raspagem de dados. Esses pacotes não são suficientes para acessar todo tipo de conteúdo da web. Não discutiremos selenium nesse curso, mas caso queira se aprofundar, acesse aqui e o pacote RSelenium. 4.2.1 GET e POST Uma requisição GET envia uma url ao servidor, possivelmente com alguns parâmetros nessa url (que ficam no final da url depois do ?). O servidor, por sua vez, recebe essa url, processa os parâmetros e retorna uma página HTML para o navegador. A requisição POST envia uma url não modificada para o servidor, mas envia também uma lista de dados preenchidos pelo usuário, que podem ser números, textos ou até imagens. Na maioria dos casos, ao submeter um formulário de um site, fazemos uma requisição POST. O httr possui os métodos GET e POST implementados e são muito similares. A lista de parâmetros enviados pelo usuário pode ser armazenado numa list nomeada, e adicionado ao GET pelo parâmetro query ou no POST pelo parâmetro body. Exemplo de GET httr::GET(&quot;http://google.com/search&quot;, query = list(q = &quot;jurimetria&quot;)) #&gt; Response [http://www.google.com/search?q=jurimetria] #&gt; Date: 2019-10-21 11:15 #&gt; Status: 200 #&gt; Content-Type: text/html; charset=ISO-8859-1 #&gt; Size: 45.6 kB #&gt; &lt;!doctype html&gt;&lt;html lang=&quot;pt-BR&quot;&gt;&lt;head&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;meta cont... #&gt; &lt;span class=&quot;BNeawe&quot;&gt;&lt;a href=&quot;/url?q=https://pt.wikipedia.org/wiki/Jurim... #&gt; function C(){w=null;if(x){var a=&quot;/complete/search?client=heirloom-srp&amp;hl... #&gt; function D(){for(;n.firstChild;)n.removeChild(n.firstChild);r=[];t=-1;z(... #&gt; (function(){for(var a=+new Date-window.start,b=D(a),d=0,c=0,f=0,n=docume... Exemplo de POST httr::POST(&quot;http://httpbin.org/post&quot;, body = list(x = &quot;Mãe to na request&quot;), encode = &quot;json&quot;) #&gt; Response [http://httpbin.org/post] #&gt; Date: 2019-10-21 11:15 #&gt; Status: 200 #&gt; Content-Type: application/json #&gt; Size: 518 B #&gt; { #&gt; &quot;args&quot;: {}, #&gt; &quot;data&quot;: &quot;{\\&quot;x\\&quot;:\\&quot;M\\u00e3e to na request\\&quot;}&quot;, #&gt; &quot;files&quot;: {}, #&gt; &quot;form&quot;: {}, #&gt; &quot;headers&quot;: { #&gt; &quot;Accept&quot;: &quot;application/json, text/xml, application/xml, */*&quot;, #&gt; &quot;Accept-Encoding&quot;: &quot;deflate, gzip&quot;, #&gt; &quot;Content-Length&quot;: &quot;26&quot;, #&gt; &quot;Content-Type&quot;: &quot;application/json&quot;, #&gt; ... 4.2.2 Exercícios Use o Inspect: Qual o método usado na pesquisa de jurisprudência do TJSP? Qual o método usado na busca avançada de diários de justiça do TJSP? "],
["listando-processos.html", "4.3 Listando processos", " 4.3 Listando processos A forma de listar processos muda se seu estudo é prospectivo ou retrospectivo. Se o estudo for prospectivo, precisamos baixar dados dos Diários de Justiça Eletrônicos (DJE), que são arquivos PDF enormes. Se o estudo for retrospectivo, precisamos baixar dados da Consulta de Julgados de Segundo Grau (CJSG), que é um formulário na internet, mais simples. Se o seu estudo é retrospectivo, use esaj::download_cjsg(). CJSG significa Consulta de Julgados de Segundo Grau. Se o seu estudo é prospectivo, usedje::download_dje(). DJE significa Diário de Justiça Eletrônico "],
["usando-o-esaj-para-listar-processos.html", "4.4 Usando o esaj para listar processos", " 4.4 Usando o esaj para listar processos A CJSG possui vários parâmetros para consulta de decisões. As mais usadas são Palavras-chave Classe, assunto e câmaras Intervalos de datas 4.4.1 Pesquisa por palavras-chave A pesquisa por palavras-chave não tem segredo. Basta você seguir as especificações deste link. É importante ressaltar alguns pontos O e-SAJ não disponibiliza seu tesauro (dicionário estruturado) publicamente. Ou seja, você terá de confiar na pesquisa por sinônimos. Você não pode fazer uma busca completamente vazia. Ou você coloca a palavra-chave, ou você especifica outro parâmetro. Você pode pesquisar o termo a OU (NAO a), se quiser… 4.4.2 Pesquisa por datas Você pode usar duas datas para indexar os processos de sua pesquisa. A data de registro é a data em que o serventuário inclui a decisão no sistema. A data de julgamento é a data em que o conjunto de desembargadores proferiram a decisão. Normalmente, a indexação aconteceria pela data de julgamento, já que queremos vincular os processos à sua data final, não em relação à uma data do sistema. No entanto, as pesquisas indexadas pela data de julgamento não são completamente reprodutíveis, já que à medida que o tempo passa, mais decisões são registradas, mudando a base de julgados. Regra de bolso: Use data de registro se quiser ter certeza de que você pegou todos os casos em um determinado intervalo de tempo. Use data de julgamento se você estiver pesquisando casos mais antigos (por exemplo, de 2016 para trás), já que a quantidade de decisões não registradas nesse escopo é negligenciável. 4.4.3 Tabelas de classes, assuntos e câmaras Classes e assuntos definem, respectivamente, os ritos processuais e os tipos processuais. As câmaras são as casinhas dos desembargadores, que podem ser ordinárias (fixas) ou extraordinárias (eventuais, criadas por diferentes motivos). As classes e assuntos são definidas em formato de árvore. Cada nível dessa árvore tem uma lista de classes/assuntos e seus respectivos códigos. As tabelas de classes/assuntos podem ser obtidas pela função esaj::cjsg_table(). # Não rode esses códigos. Eles baixam os dados diretos da web classes &lt;- esaj::cjsg_table(&quot;classes&quot;) assuntos &lt;- esaj::cjsg_table(&quot;subjects&quot;) Já baixamos essas tabelas e colocamos em arquivos .rds (você sabe o que é um arquivo .rds?) classes &lt;- readr::read_rds(&quot;data/cjsg_classes.rds&quot;) assuntos &lt;- readr::read_rds(&quot;data/cjsg_assuntos.rds&quot;) dplyr::glimpse(assuntos) #&gt; Observations: 3,088 #&gt; Variables: 12 #&gt; $ name0 &lt;chr&gt; &quot;0 - Assunto não Especificado&quot;, &quot;14 - DIREITO TRIBUTÁRIO&quot;,… #&gt; $ id0 &lt;chr&gt; &quot;0&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;, &quot;14&quot;,… #&gt; $ name1 &lt;chr&gt; NA, &quot;5913 - Limitações ao Poder de Tributar&quot;, &quot;5913 - Limi… #&gt; $ id1 &lt;chr&gt; NA, &quot;5913&quot;, &quot;5913&quot;, &quot;5913&quot;, &quot;5913&quot;, &quot;5913&quot;, &quot;5913&quot;, &quot;5916&quot;… #&gt; $ name2 &lt;chr&gt; NA, &quot;5914 - Imunidade&quot;, &quot;5914 - Imunidade&quot;, &quot;5914 - Imunid… #&gt; $ id2 &lt;chr&gt; NA, &quot;5914&quot;, &quot;5914&quot;, &quot;5914&quot;, &quot;5914&quot;, NA, NA, NA, NA, NA, NA… #&gt; $ name3 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #&gt; $ id3 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #&gt; $ name4 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #&gt; $ id4 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #&gt; $ name5 &lt;chr&gt; &quot;0 - Assunto não Especificado&quot;, &quot;10527 - Livros / Jornais … #&gt; $ id5 &lt;chr&gt; &quot;0&quot;, &quot;10527&quot;, &quot;10528&quot;, &quot;10529&quot;, &quot;10530&quot;, &quot;5915&quot;, &quot;10540&quot;, … Na prática, você vai procurar os assuntos que quer nessa tabela, obter os respectivos códigos e guardar em um vetor. Cuidado: Lembre-se da cifra oculta! Além disso, muitos casos têm assunto vazio. A tabela de câmaras segue a mesma regra. A única diferença é que não existem níveis, logo você só precisará procurar os nomes em uma coluna camaras &lt;- esaj::cjsg_table(&quot;courts&quot;) camaras &lt;- readr::read_rds(&quot;data/cjsg_camaras.rds&quot;) dplyr::glimpse(camaras) #&gt; Observations: 1,208 #&gt; Variables: 3 #&gt; $ branch &lt;chr&gt; &quot;DIREITO PÚBLICO&quot;, &quot;DIREITO PÚBLICO&quot;, &quot;DIREITO PÚBLICO&quot;, … #&gt; $ court &lt;chr&gt; &quot;1.ª Câmara Direito Público B&quot;, &quot;1.º Grupo Direito Públic… #&gt; $ id &lt;chr&gt; &quot;0-434&quot;, &quot;0-438&quot;, &quot;0-439&quot;, &quot;0-57&quot;, &quot;0-209&quot;, &quot;0-1202&quot;, &quot;0-… 4.4.4 A função download_cjsg Com o escopo em mãos, podemos finalmente começar a baixar dados. Esses são os argumentos da função esaj::download_cjsg(). Veja a documentação ?esaj::download_cjsg args(esaj::download_cjsg) #&gt; function (query, path = &quot;.&quot;, classes = &quot;&quot;, subjects = &quot;&quot;, courts = &quot;&quot;, #&gt; trial_start = &quot;&quot;, trial_end = &quot;&quot;, registration_start = &quot;&quot;, #&gt; registration_end = &quot;&quot;, min_page = 1, max_page = 1, cores = 1, #&gt; wait = 0.5, tj = &quot;tjsp&quot;, ...) #&gt; NULL Esse código baixa duas páginas da pesquisa de jurisprudência usando a palavra-chave homicídio, salvando os arquivos HTML na pasta data-raw/cjsg esaj::download_cjsg(&quot;homicídio&quot;, &quot;data-raw/cjsg&quot;, max_page = 2) Onde guardar os dados? Ao construir um scraper, é importante guardar os dados brutos na máquina ou num servidor, para reprodutibilidade e manutenção do scraper. Se estiver construindo um pacote do R, o melhor lugar para guardar esses dados é na pasta data-raw, como sugerido no livro r-pkgs. Se os dados forem muito volumosos, pode ser necessário colocar esses documentos numa pasta externa ao pacote. 4.4.5 Exercícios Faça o download das páginas 2 à 5 de uma pesquisa com palavra-chave igual ao seu primeiro nome. Descubra quantos resultados tem a sua pesquisa usando a função esaj::peek_cjsg(). 4.4.6 Arrumando os dados Para transformar os arquivos HTML em bases de dados prontas para análise, você precisa rodar esaj::parse_cjsg(). files &lt;- fs::dir_ls(&quot;data-raw/cjsg&quot;, regexp = &quot;page&quot;) d_cjsg &lt;- esaj::parse_cjsg(files) dplyr::glimpse(d_cjsg) #&gt; Observations: 40 #&gt; Variables: 13 #&gt; $ file &lt;chr&gt; &quot;data-raw/cjsg/page1.html&quot;, &quot;data-raw/cjsg/pag… #&gt; $ id_page &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;… #&gt; $ id_decision &lt;chr&gt; &quot;11471226&quot;, &quot;11471101&quot;, &quot;11471322&quot;, &quot;11471231&quot;… #&gt; $ id_lawsuit &lt;chr&gt; &quot;9000112-30.2018.8.26.0050&quot;, &quot;0035378-08.2010.… #&gt; $ class_subject &lt;chr&gt; &quot;Classe/Assunto:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t Agrav… #&gt; $ district &lt;chr&gt; &quot;São Paulo&quot;, &quot;Ribeirão Preto&quot;, &quot;Guarulhos&quot;, &quot;S… #&gt; $ court &lt;chr&gt; &quot;2ª Câmara de Direito Criminal&quot;, &quot;2ª Câmara de… #&gt; $ date_decision &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;17/05/2018&quot;, &quot;21/… #&gt; $ date_publication &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/… #&gt; $ date_registration &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/… #&gt; $ rapporteur &lt;chr&gt; &quot;Luiz Fernando Vaggione&quot;, &quot;Luiz Fernando Vaggi… #&gt; $ summary &lt;chr&gt; &quot;Agravo em execução. Progressão de regime. Exa… #&gt; $ txt_summary &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… 4.4.7 Exercícios Na pesquisa que você fez: Quem é o relator mais frequente? Qual a comarca de origem mais frequente? [Difícil] Qual é o assunto mais comum? "],
["baixando-processos-individuais.html", "4.5 Baixando processos individuais", " 4.5 Baixando processos individuais A tarefa de baixar documentos a partir de processos será realizada pelas funções esaj::download_cposg(), esaj::download_decision(). 4.5.1 Download CPOSG As funções de download de processos recebem um vetor de números e baixam um HTML para cada deles. Às vezes um número de processo corresponde a mais do que um documento. Nesse caso, ambos os documentos são baixados, adicionando-se identificação de data. processos &lt;- unique(d_cjsg$id_lawsuit) esaj::download_cposg(processos, &quot;data-raw/cposg&quot;) 4.5.2 Baixando decisões Você também pode baixar as decisões (sentenças ou acórdãos) do processo, em PDF. O código a ser rodado nesse caso é acordaos &lt;- head(d_cjsg$id_decision) esaj::download_decision(acordaos, path = &quot;data-raw/decisions&quot;) Por trás da função esaj::download_decision() estamos quebrando um CAPTCHA. Essa função ainda está instável, então pode ser necessário rodá-la várias vezes para obter os documentos finais. "],
["processando-documentos.html", "4.6 Processando documentos", " 4.6 Processando documentos Finalmente, processar documentos significa carregar dados acessíveis em disco e transformar os dados brutos uma base tidy. Usualmente separamos a estruturação em duas etapas: transformar arquivos não-estruturados em um arquivos semi-estruturados (e.g. um arquivo HTML em uma tabela mais um conjunto de textos livres) e transformar arquivos semi-estruturados em uma base analítica (estruturada). A tarefa de processar as páginas HTML será realizada pelas funções esaj::parse_cjsg() e esaj::run_parser(). 4.6.1 Parse CPOSG O parser da consulta de processos foi escrito de um jeito especial. Uma página de resultados tem vários blocos de informações, entre eles i) dados básicos, ii) partes, iii) movimentações e iv) decisões. Em algumas pesquisas, temos interesse em apenas uma parte desses blocos. O parser foi construído para modular essa captura de informações. # lista de arquivos files_cposg &lt;- fs::dir_ls(&quot;data-raw/cposg&quot;) # objeto de parse parser &lt;- esaj::make_parser() %&gt;% esaj::parse_data() %&gt;% esaj::parse_parts() %&gt;% esaj::parse_movs() %&gt;% esaj::parse_decisions() # rodar parse d_cposg &lt;- esaj::run_parser(file = files_cposg, parser = parser, path = &quot;data-raw/cposg_rds&quot;) Outra diferença importante é que, nesse caso, salvamos individualmente os resultados do parse em arquivos .rds. Isso é feito para evitar retrabalho, já que esse processo é computacionalmente intensivo e algo de errado pode acontecer no meio da execução. Para obter a base de dados, basta ler e empilhar os arquivos parciais que foram gerados. rds_files &lt;- fs::dir_ls(&quot;data-raw/cposg_rds&quot;) d_cposg &lt;- purrr::map_dfr(rds_files, readr::read_rds) dplyr::glimpse(d_cposg) #&gt; Observations: 89 #&gt; Variables: 7 #&gt; $ id &lt;chr&gt; &quot;00000091520158260558&quot;, &quot;00002046520118260420&quot;, &quot;00003… #&gt; $ file &lt;chr&gt; &quot;data-raw/cposg/00000091520158260558.html&quot;, &quot;data-raw/… #&gt; $ hidden &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE… #&gt; $ data &lt;list&gt; [&lt;tbl_df[13 x 2]&gt;, &lt;tbl_df[14 x 2]&gt;, &lt;tbl_df[13 x 2]&gt;… #&gt; $ parts &lt;list&gt; [&lt;tbl_df[3 x 4]&gt;, &lt;tbl_df[5 x 4]&gt;, &lt;tbl_df[3 x 4]&gt;, &lt;… #&gt; $ movs &lt;list&gt; [&lt;tbl_df[23 x 2]&gt;, &lt;tbl_df[35 x 2]&gt;, &lt;tbl_df[22 x 2]&gt;… #&gt; $ decisions &lt;list&gt; [&lt;tbl_df[1 x 2]&gt;, &lt;tbl_df[1 x 2]&gt;, &lt;tbl_df[1 x 2]&gt;, &lt;… 4.6.2 Exercícios O que faz a função purrr::map_dfr()? Estude o objeto d_cposg. O que temos na coluna data? E na coluna parts? OBS: Os objetos data, parts, movs e decisions do d_cposg são chamados de list columns. Qual é o outro parâmetro da função esaj::run_parser(), e o que ele faz? "],
["pacote-abjutils.html", "4.7 Pacote abjutils", " 4.7 Pacote abjutils 4.7.1 Trabalhando com números de processos O número identificador de um processo judicial utilizado atualmente pelos tribunais é chamado número CNJ, criado na Resolução 65 do CNJ. A resolução define o padrão NNNNNNN-DD.AAAA.J.TR.OOOO, descrito abaixo. NNNNNNN: Número identificador do processo. DD: Dígito verificador gerado a partir da aplicação do algoritmo Módulo 97 Base 10, conforme Norma ISO 7064:2003. AAAA: Ano do ajuizamento do processo. J: Segmento do poder judiciário. No nosso caso, esse número é sempre 8, que identifica a Justiça Estadual. TR: Identifica o tribunal. No nosso caso, esse número é sempre 26 (TJSP). OOOO: Identifica a unidade de origem do processo. No nosso caso, as possíveis configurações identificam os foros de São Paulo. Na maioria dos casos, o número também identifica a comarca, pois existem poucas comarcas com mais de um foro ( e.g. a comarca de São Paulo, que possui mais de dez foros regionais). id_montado &lt;- &quot;0000009-15.2015.8.26.0558&quot; id_limpo_dig &lt;- &quot;00000091520158260558&quot; id_limpo_ndig &lt;- &quot;000000920158260558&quot; As funções abjutils::build_id() e abjutils::clean_cnj() montam ou limpam o número do processo. abjutils::build_id(id_limpo_dig) #&gt; [1] &quot;0000009-15.2015.8.26.0558&quot; abjutils::clean_cnj(id_montado) #&gt; [1] &quot;00000091520158260558&quot; A função abjutils::extract_parts() extrai todos os componentes do número do processo. abjutils::extract_parts(id_montado) #&gt; [[1]] #&gt; N D A J T O #&gt; &quot;0000009&quot; &quot;15&quot; &quot;2015&quot; &quot;8&quot; &quot;26&quot; &quot;0558&quot; A função abjutils::separate_cnj() faz o mesmo, mas em uma coluna do banco de dados d_cjsg %&gt;% abjutils::separate_cnj(&quot;id_lawsuit&quot;, remove = FALSE) %&gt;% dplyr::glimpse() #&gt; Observations: 40 #&gt; Variables: 19 #&gt; $ file &lt;chr&gt; &quot;data-raw/cjsg/page1.html&quot;, &quot;data-raw/cjsg/pag… #&gt; $ id_page &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;… #&gt; $ id_decision &lt;chr&gt; &quot;11471226&quot;, &quot;11471101&quot;, &quot;11471322&quot;, &quot;11471231&quot;… #&gt; $ id_lawsuit &lt;chr&gt; &quot;9000112-30.2018.8.26.0050&quot;, &quot;0035378-08.2010.… #&gt; $ N &lt;chr&gt; &quot;9000112&quot;, &quot;0035378&quot;, &quot;2065637&quot;, &quot;0058979&quot;, &quot;0… #&gt; $ D &lt;chr&gt; &quot;30&quot;, &quot;08&quot;, &quot;34&quot;, &quot;77&quot;, &quot;08&quot;, &quot;65&quot;, &quot;49&quot;, &quot;82&quot;… #&gt; $ A &lt;chr&gt; &quot;2018&quot;, &quot;2010&quot;, &quot;2018&quot;, &quot;2015&quot;, &quot;2013&quot;, &quot;2011&quot;… #&gt; $ J &lt;chr&gt; &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;8&quot;, &quot;… #&gt; $ T &lt;chr&gt; &quot;26&quot;, &quot;26&quot;, &quot;26&quot;, &quot;26&quot;, &quot;26&quot;, &quot;26&quot;, &quot;26&quot;, &quot;26&quot;… #&gt; $ O &lt;chr&gt; &quot;0050&quot;, &quot;0506&quot;, &quot;0000&quot;, &quot;0050&quot;, &quot;0032&quot;, &quot;0420&quot;… #&gt; $ class_subject &lt;chr&gt; &quot;Classe/Assunto:\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t Agrav… #&gt; $ district &lt;chr&gt; &quot;São Paulo&quot;, &quot;Ribeirão Preto&quot;, &quot;Guarulhos&quot;, &quot;S… #&gt; $ court &lt;chr&gt; &quot;2ª Câmara de Direito Criminal&quot;, &quot;2ª Câmara de… #&gt; $ date_decision &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;17/05/2018&quot;, &quot;21/… #&gt; $ date_publication &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/… #&gt; $ date_registration &lt;chr&gt; &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/05/2018&quot;, &quot;21/… #&gt; $ rapporteur &lt;chr&gt; &quot;Luiz Fernando Vaggione&quot;, &quot;Luiz Fernando Vaggi… #&gt; $ summary &lt;chr&gt; &quot;Agravo em execução. Progressão de regime. Exa… #&gt; $ txt_summary &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… A função abjutils::calc_dig() calcula o dígito verificador do processo a partir do número incompleto. A função abjutils::check_dig() checa se o dígito do processo está correto. Essas funções são úteis para i) gerar números de processo aleatórios e ii) arrumar erros de parse, por exemplo, o resultado da leitura de um DJE ou de um PDF escaneado. abjutils::calc_dig(id_limpo_ndig) #&gt; [1] &quot;15&quot; abjutils::check_dig(id_montado) #&gt; [1] TRUE Finalmente, a função abjutils::sample_cnj() serve para criar amostras de números de processos. Esses pocessos podem ser manifestos ou não. Em algumas pesquisas mais complicadas (e.g. nossa pesquisa sobre processamento de homicídios) esse tipo de abordagem é necessária. set.seed(1) abjutils::sample_cnj(n = 10, foros = &quot;0001&quot;, anos = 2015:2017, orgao = &quot;8&quot;, tr = &quot;26&quot;, first_dig = 0, return_df = FALSE) %&gt;% abjutils::build_id() #&gt; [1] &quot;0176556-29.2015.8.26.0001&quot; &quot;0687022-54.2017.8.26.0001&quot; #&gt; [3] &quot;0384103-39.2015.8.26.0001&quot; &quot;0769841-82.2016.8.26.0001&quot; #&gt; [5] &quot;0497699-98.2015.8.26.0001&quot; &quot;0717618-21.2017.8.26.0001&quot; #&gt; [7] &quot;0991906-53.2017.8.26.0001&quot; &quot;0380035-12.2016.8.26.0001&quot; #&gt; [9] &quot;0777445-94.2016.8.26.0001&quot; &quot;0934705-06.2017.8.26.0001&quot; 4.7.2 Trabalhando com acentos A função abjutils::rm_accent() serve para tirar acentos de um texto abjutils::rm_accent(&quot;Têxto cóm açèntõs&quot;) #&gt; [1] &quot;Texto com acentos&quot; Só isso! Mas extremamente útil. Outra versão dessa função pode ser encontrada no pacote rslp. Para quem é desenvolvedor de pacotes, a função abjutils::escape_unicode() é muito útil: ela transforma todos os acentos em códigos do tipo \\uxxxx, permitindo que o pacote funcione em diferentes plataformas, sem os famosos problemas de encoding. Essa função não é para ser utilizada diretamente, mas sim como um addin do RStudio. 4.7.3 Exercício Faça uma tabela contando as combinações dos números OOOO e as comarcas de origem. O que podemos concluir? "],
["wrap-up-1.html", "4.8 Wrap-up", " 4.8 Wrap-up Até agora, vimos Um pouco sobre web scraping Usar o inspect! pacotes httr, xml2 e rvest Scrapers jurimétricos listar números com esaj::download_cjsg(). coletar documentos com esaj::download_cposg(). processar documentos com esaj::run_parser(). Pacote abjutils Trabalhando com número CNJ Trabalhando com acentos: abjutils::rm_accent() Agora, vamos trabalhar as bases de dados obtidas e visualizar com alguns pacotes do tidyverse. "],
["transformação-e-visualização-de-dados.html", "Capítulo 5 Transformação e visualização de dados", " Capítulo 5 Transformação e visualização de dados Até agora, estudamos as principais ferramentas de transformação de dados do tidyverse. Hoje vamos aumentar um pouco mais nosso toolkit e vamos utilizá-lo na prática no exemplo das câmaras. Ler as bases path &lt;- &quot;data-raw/camaras&quot; d_cjsg &lt;- readr::read_rds(paste0(path, &quot;/d_cjsg.rds&quot;)) %&gt;% distinct(id_processo, .keep_all = TRUE) d_cposg &lt;- readr::read_rds(paste0(path, &quot;/d_cposg.rds&quot;)) %&gt;% filter(!str_detect(file, &quot;recurso|reex&quot;)) %&gt;% distinct(id_lawsuit, .keep_all = TRUE) List columns: nest e unnest nest e unnest são operações inversas e servem para tratar dados complecos, como o que temos em d_cposg d_partes &lt;- d_cposg %&gt;% dplyr::select(id_lawsuit, parts) %&gt;% tidyr::unnest_legacy(parts) d_decisoes &lt;- d_cposg %&gt;% dplyr::select(id_lawsuit, decisions) %&gt;% tidyr::unnest_legacy(decisions) A função unnest() foi modificada na última atualização do tidyr. Estamos usando a versão legado unnest_legacy() e estamos adaptando o esaj ao novo formato. "],
["análise-das-câmaras.html", "5.1 Análise das câmaras", " 5.1 Análise das câmaras Agora vamos fazer gráficos! 5.1.1 Como se distribuem os assuntos em cada câmara? Gráfico fraqueza: d_cjsg %&gt;% tidyr::separate(classe_assunto, c(&#39;classe&#39;, &#39;assunto&#39;), sep = &#39; / &#39;, extra = &#39;merge&#39;, fill = &#39;right&#39;) %&gt;% ggplot(aes(x = vara, fill = assunto)) + geom_bar(colour = &#39;black&#39;, position = &quot;fill&quot;, show.legend = FALSE) Gráfico nutella: d_cjsg %&gt;% ## transformacao ------------------------------------------------------------- # tirar NA (não tem problema pois são aqueles casos que não existem) dplyr::filter(!is.na(vara)) %&gt;% tidyr::separate(classe_assunto, c(&#39;classe&#39;, &#39;assunto&#39;), sep = &#39; / &#39;, extra = &#39;merge&#39;, fill = &#39;right&#39;) %&gt;% # categorizar os assuntos e mudar a ordem dplyr::mutate(assunto = assunto %&gt;% stringr::str_wrap(19) %&gt;% forcats::fct_infreq() %&gt;% # ordena o factor decrescente forcats::fct_rev() %&gt;% forcats::fct_lump(n = 11, other_level = &quot;Outros&quot;)) %&gt;% # pega somente os números das câmaras e coloca zeros à esquerda dplyr::mutate(num = parse_number(vara), num = str_pad(num, 2, pad = &quot;0&quot;)) %&gt;% # grafico -------------------------------------------------------------------- ggplot(aes(x = num, fill = assunto)) + geom_bar(colour = &#39;black&#39;, position = &quot;fill&quot;) + guides(fill = guide_legend(reverse = TRUE)) + # coisas cosméticas theme_minimal(14) + scale_y_continuous(labels = scales::percent) + labs(x = &#39;Órgão julgador&#39;, y = &#39;Proporção de \\nprocessos por assunto&#39;, fill = &quot;&quot;) + theme(legend.position = &quot;bottom&quot;) 5.1.2 Qual a proporção de decisões por câmara? Primeiro, vamos montar a função que classifica as decisões. # essa é a classificação final negaram &lt;- stringr::regex(&#39;negara?m|nega-se|negam-se&#39;, ignore_case = TRUE) parcial &lt;- stringr::regex(&#39;parcial&#39;, ignore_case = TRUE) deram &lt;- stringr::regex(&#39;deram|mantiv|dá-se|nul|conhec&#39;, ignore_case = TRUE) extinto &lt;- stringr::regex(&#39;extin&#39;, ignore_case = TRUE) tipos_decisao &lt;- function(decisoes) { dplyr::case_when( stringr::str_detect(decisoes, negaram) ~ &#39;negado&#39;, stringr::str_detect(decisoes, parcial) ~ &#39;parcial&#39;, stringr::str_detect(decisoes, deram) ~ &#39;provido&#39;, stringr::str_detect(decisoes, extinto) ~ &#39;extinto&#39;, TRUE ~ &quot;outros&quot;) } Agora, vamos pegar apenas os casos em que as pessoas entraram com recursos de apelação contra o Ministério Público. partes_apelacoes &lt;- d_cposg %&gt;% dplyr::select(id_lawsuit, parts) %&gt;% tidyr::unnest_legacy(parts) %&gt;% dplyr::filter(part == &#39;Apelado&#39;, stringr::str_detect(name, &#39;[Mm]inist&#39;)) %&gt;% # Exercício: por que usamos distinct aqui? dplyr::distinct(id_lawsuit) Agora, montamos a base de decisões d_decisoes &lt;- d_cposg %&gt;% dplyr::select(id, id_lawsuit, decisions) %&gt;% tidyr::unnest_legacy(decisions) %&gt;% # Exercício: o que faz semi_join()? dplyr::semi_join(partes_apelacoes, &quot;id_lawsuit&quot;) %&gt;% dplyr::arrange(desc(date)) %&gt;% dplyr::group_by(id_lawsuit) %&gt;% # Exercício: o que faz slice()? dplyr::slice(1) %&gt;% dplyr::ungroup() decisoes &lt;- d_decisoes %&gt;% dplyr::mutate(tipo_decisao = tipos_decisao(decision)) %&gt;% dplyr::select(id_lawsuit, tipo_decisao) Gráfico fraqueza: d_cjsg %&gt;% dplyr::distinct(id_processo, .keep_all = TRUE) %&gt;% dplyr::inner_join(decisoes, c(&#39;id_processo&#39; = &#39;id_lawsuit&#39;)) %&gt;% ggplot(aes(x = vara, fill = tipo_decisao)) + geom_bar(position = &quot;fill&quot;) Gráfico nutella: prop_negados &lt;- function(x) { sum(x == &quot;negado&quot;) / length(x) } d_cjsg %&gt;% dplyr::distinct(id_processo, .keep_all = TRUE) %&gt;% dplyr::inner_join(decisoes, c(&#39;id_processo&#39; = &#39;id_lawsuit&#39;)) %&gt;% dplyr::mutate(num = vara %&gt;% readr::parse_number() %&gt;% stringr::str_pad(width = 2, pad = &quot;0&quot;) %&gt;% forcats::fct_reorder(tipo_decisao, prop_negados) %&gt;% forcats::fct_rev()) %&gt;% dplyr::mutate(tipo_decisao = fct_infreq(tipo_decisao) %&gt;% fct_rev()) %&gt;% # grafico -------------------------------------------------------------------- ggplot(aes(x = num, fill = tipo_decisao)) + geom_bar(colour = &#39;black&#39;, position = &#39;fill&#39;, size = .3) + geom_hline(yintercept = 1:4 / 4, linetype = 2, alpha = .4) + scale_y_continuous(labels = scales::percent) + coord_flip() + # perfumaria ----------------------------------------------------------------- guides(fill = guide_legend(reverse = TRUE)) + theme_minimal(16) + theme(legend.position = &quot;bottom&quot;) + labs(x = &quot;Câmara&quot;, y = &#39;Proporção de processos por tipo de decisão&#39;, fill = &quot;Decisão&quot;) "],
["wrap-up-2.html", "5.2 Wrap-up", " 5.2 Wrap-up Terminamos o projeto das câmaras Aprendemos tidyr, stringr e forcats no meio do caminho revisitamos ggplot2 e brincamos de visualização. FIM :) "]
]
